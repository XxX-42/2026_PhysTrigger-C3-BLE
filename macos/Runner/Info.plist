<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<!-- ============================================================ -->
	<!-- Application Metadata                                         -->
	<!-- ============================================================ -->
	<key>CFBundleDevelopmentRegion</key>
	<string>$(DEVELOPMENT_LANGUAGE)</string>
	<key>CFBundleExecutable</key>
	<string>$(EXECUTABLE_NAME)</string>
	<key>CFBundleIconFile</key>
	<string></string>
	<key>CFBundleIdentifier</key>
	<string>$(PRODUCT_BUNDLE_IDENTIFIER)</string>
	<key>CFBundleInfoDictionaryVersion</key>
	<string>6.0</string>
	<key>CFBundleName</key>
	<string>$(PRODUCT_NAME)</string>
	<key>CFBundlePackageType</key>
	<string>APPL</string>
	<key>CFBundleShortVersionString</key>
	<string>$(FLUTTER_BUILD_NAME)</string>
	<key>CFBundleVersion</key>
	<string>$(FLUTTER_BUILD_NUMBER)</string>
	<key>LSMinimumSystemVersion</key>
	<string>$(MACOSX_DEPLOYMENT_TARGET)</string>
	<key>NSHumanReadableCopyright</key>
	<string>$(PRODUCT_COPYRIGHT)</string>
	<key>NSMainNibFile</key>
	<string>MainMenu</string>
	<key>NSPrincipalClass</key>
	<string>NSApplication</string>
	
	<!-- ============================================================ -->
	<!-- BLUETOOTH PERMISSIONS - CRITICAL FOR macOS!                 -->
	<!-- Without these keys, the app will CRASH on launch.           -->
	<!-- ============================================================ -->
	
	<!-- 
	┌─────────────────────────────────────────────────────────────────┐
	│ NSBluetoothAlwaysUsageDescription                               │
	│ Required for any Bluetooth access on macOS 10.15+               │
	│ User will see this message in the permission dialog             │
	└─────────────────────────────────────────────────────────────────┘
	-->
	<key>NSBluetoothAlwaysUsageDescription</key>
	<string>PhysTrigger needs Bluetooth access to connect to and control your ESP32 hardware device.</string>
	
	<!-- Also add peripheral usage description for completeness -->
	<key>NSBluetoothPeripheralUsageDescription</key>
	<string>PhysTrigger needs Bluetooth access to communicate with your BLE device.</string>
	
	<!-- ============================================================ -->
	<!-- App Sandbox Configuration                                    -->
	<!-- ============================================================ -->
	
	<!-- Enable Bluetooth hardware access -->
	<key>com.apple.security.device.bluetooth</key>
	<true/>
	
</dict>
</plist>
